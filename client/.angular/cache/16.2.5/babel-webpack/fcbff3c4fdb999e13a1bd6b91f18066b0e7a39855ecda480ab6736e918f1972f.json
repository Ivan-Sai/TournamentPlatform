{"ast":null,"code":"import { FormControl, ReactiveFormsModule, Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../../services/TeamService\";\nimport * as i3 from \"../../../../util/JwtUtil\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nexport class TeamCreationComponent {\n  constructor(fb, teamService, jwtUtil, router, location) {\n    this.fb = fb;\n    this.teamService = teamService;\n    this.jwtUtil = jwtUtil;\n    this.router = router;\n    this.location = location;\n    this.form = this.fb.group({\n      name: new FormControl(null, [Validators.required, Validators.minLength(4), Validators.maxLength(12)]),\n      image: new FormControl(null, [Validators.required])\n    });\n  }\n  ngOnInit() {\n    if (this.jwtUtil.getRole() == null || this.jwtUtil.getRole() != 'PERSONAL') {\n      this.router.navigateByUrl('signin');\n    }\n  }\n  onSubmit() {\n    if (this.form.valid) {\n      this.teamService.createTeam(this.form.value.name, this.uploadImage).subscribe(value => {\n        this.router.navigateByUrl('teams/' + value);\n      });\n    }\n  }\n  onImageUpload(event) {\n    if (event && event.target) {\n      // @ts-ignore\n      this.uploadImage = event.target.files[0];\n    }\n  }\n  redirectToPage() {\n    this.location.back();\n  }\n  static #_ = this.ɵfac = function TeamCreationComponent_Factory(t) {\n    return new (t || TeamCreationComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.TeamService), i0.ɵɵdirectiveInject(i3.JwtUtil), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i5.Location));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TeamCreationComponent,\n    selectors: [[\"app-team-creation\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 16,\n    vars: 2,\n    consts: [[1, \"flex\", \"flex-col\", \"items-center\", 2, \"min-height\", \"calc(100vh - 5rem)\", \"background\", \"rgb(2,0,36)\", \"background\", \"linear-gradient(90deg, rgba(2,0,36,1) 0%, rgba(3,56,91,1) 81%)\"], [1, \"w-4/5\", \"h-max\", \"pt-10\", \"flex\", \"flex-col\", \"items-center\", 3, \"formGroup\", \"ngSubmit\"], [1, \"flex\", \"relative\", \"w-full\", \"justify-center\"], [1, \"absolute\", \"cursor-pointer\", \"sm:left-1/4\", \"md:left-1/4\", \"left-0\", \"top-0\", \"fa-solid\", \"self-start\", \"fa-arrow-left\", \"text-4xl\", \"text-cyan-50\", 3, \"click\"], [1, \"text-4xl\", \"text-cyan-50\"], [1, \"flex\", \"flex-col\", \"mt-5\", \"mb-3\", \"lg:w-3/6\", \"w-4/5\"], [1, \"text-cyan-50\", \"text-xl\", \"mb-3\"], [\"formControlName\", \"name\", \"placeholder\", \"Team name\", \"type\", \"text\", 1, \"bg-sky-800\", \"rounded\", \"h-12\", \"px-3\", \"text-cyan-50\"], [1, \"flex\", \"flex-col\", \"lg:w-3/6\", \"w-4/5\"], [\"formControlName\", \"image\", \"type\", \"file\", 1, \"pt-2\", \"bg-sky-800\", \"rounded\", \"h-12\", \"px-3\", \"text-cyan-50\", \"cursor-pointer\", 3, \"change\"], [1, \"mt-4\", \"lg:w-3/6\", \"w-4/5\", \"btn\", \"btn-success\", 3, \"disabled\"]],\n    template: function TeamCreationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n        i0.ɵɵlistener(\"ngSubmit\", function TeamCreationComponent_Template_form_ngSubmit_1_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(2, \"span\", 2)(3, \"i\", 3);\n        i0.ɵɵlistener(\"click\", function TeamCreationComponent_Template_i_click_3_listener() {\n          return ctx.redirectToPage();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"p\", 4);\n        i0.ɵɵtext(5, \"Create team\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"span\", 5)(7, \"p\", 6);\n        i0.ɵɵtext(8, \"Team name(4-12)\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(9, \"input\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"span\", 8)(11, \"p\", 6);\n        i0.ɵɵtext(12, \"Team logo(50x50 recommended)\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"input\", 9);\n        i0.ɵɵlistener(\"change\", function TeamCreationComponent_Template_input_change_13_listener($event) {\n          return ctx.onImageUpload($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"button\", 10);\n        i0.ɵɵtext(15, \"Create\");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"disabled\", ctx.form.invalid);\n      }\n    },\n    dependencies: [ReactiveFormsModule, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["FormControl","ReactiveFormsModule","Validators","TeamCreationComponent","constructor","fb","teamService","jwtUtil","router","location","form","group","name","required","minLength","maxLength","image","ngOnInit","getRole","navigateByUrl","onSubmit","valid","createTeam","value","uploadImage","subscribe","onImageUpload","event","target","files","redirectToPage","back","_","i0","ɵɵdirectiveInject","i1","FormBuilder","i2","TeamService","i3","JwtUtil","i4","Router","i5","Location","_2","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","TeamCreationComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","TeamCreationComponent_Template_form_ngSubmit_1_listener","TeamCreationComponent_Template_i_click_3_listener","ɵɵelementEnd","ɵɵtext","ɵɵelement","TeamCreationComponent_Template_input_change_13_listener","$event","ɵɵadvance","ɵɵproperty","invalid","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","styles"],"sources":["C:\\Users\\Ivan\\java\\final_project\\client\\src\\app\\pages\\open\\team\\team-creation\\team-creation.component.ts","C:\\Users\\Ivan\\java\\final_project\\client\\src\\app\\pages\\open\\team\\team-creation\\team-creation.component.html"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {FormBuilder, FormControl, FormGroup, ReactiveFormsModule, Validators} from \"@angular/forms\";\nimport {TeamService} from \"../../../../services/TeamService\";\nimport {JwtUtil} from \"../../../../util/JwtUtil\";\nimport {Router} from \"@angular/router\";\nimport {Location} from \"@angular/common\";\n\n@Component({\n  selector: 'app-team-creation',\n  standalone: true,\n  templateUrl: './team-creation.component.html',\n  imports: [\n    ReactiveFormsModule\n  ],\n  styleUrls: ['./team-creation.component.css']\n})\nexport class TeamCreationComponent implements OnInit{\n\n  uploadImage :File | undefined;\n\n  constructor(private fb:FormBuilder,\n              private teamService: TeamService,\n              private jwtUtil:JwtUtil,\n              private router: Router,\n              private location:Location\n  ) {\n  }\n\n  ngOnInit(): void {\n        if (this.jwtUtil.getRole() == null || this.jwtUtil.getRole() != 'PERSONAL'){\n          this.router.navigateByUrl('signin')\n        }\n    }\n\n  public form: FormGroup = this.fb.group({\n    name: new FormControl(null, [Validators.required,Validators.minLength(4),Validators.maxLength(12)]),\n    image: new FormControl(null, [Validators.required]),\n  });\n\n  public onSubmit() {\n    if (this.form.valid) {\n      this.teamService.createTeam(this.form.value.name,this.uploadImage).subscribe(value => {\n        this.router.navigateByUrl('teams/'+value)\n        }\n      )\n    }\n  }\n  public onImageUpload(event:Event) {\n    if (event && event.target){\n      // @ts-ignore\n      this.uploadImage = event.target.files[0];\n    }\n  }\n\n  redirectToPage() {\n    this.location.back()\n  }\n}\n","<div class=\"flex flex-col items-center\" style=\"min-height: calc(100vh - 5rem);\n                                             background: rgb(2,0,36);\n                                             background: linear-gradient(90deg, rgba(2,0,36,1) 0%, rgba(3,56,91,1) 81%);\">\n\n  <form [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\" class=\"w-4/5 h-max pt-10 flex flex-col items-center\">\n    <span class=\"flex relative w-full justify-center\">\n      <i (click)=\"redirectToPage()\" class=\"absolute cursor-pointer sm:left-1/4 md:left-1/4 left-0 top-0 fa-solid self-start fa-arrow-left text-4xl text-cyan-50\"></i>\n      <p class=\"text-4xl text-cyan-50\">Create team</p>\n    </span>\n\n    <span class=\"flex flex-col mt-5 mb-3 lg:w-3/6 w-4/5\">\n      <p class=\"text-cyan-50 text-xl mb-3\">Team name(4-12)</p>\n      <input formControlName=\"name\" class=\"bg-sky-800 rounded h-12 px-3 text-cyan-50\" placeholder=\"Team name\" type=\"text\">\n    </span>\n    <span class=\"flex flex-col lg:w-3/6 w-4/5 \">\n      <p class=\"text-cyan-50 text-xl mb-3\">Team logo(50x50 recommended)</p>\n      <input formControlName=\"image\" (change)=\"onImageUpload($event)\" class=\"pt-2 bg-sky-800 rounded h-12 px-3 text-cyan-50 cursor-pointer\" type=\"file\">\n    </span>\n    <button [disabled]=\"form.invalid \" class=\"mt-4 lg:w-3/6 w-4/5 btn btn-success\">Create</button>\n  </form>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}