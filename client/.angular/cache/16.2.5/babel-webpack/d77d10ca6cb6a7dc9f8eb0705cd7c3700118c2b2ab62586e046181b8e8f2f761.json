{"ast":null,"code":"import { AsyncPipe, NgForOf, NgIf } from \"@angular/common\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/TournamentSigninService\";\nimport * as i2 from \"../../services/PersonalService\";\nimport * as i3 from \"../../services/TeamService\";\nimport * as i4 from \"../../util/JwtUtil\";\nimport * as i5 from \"@angular/router\";\nfunction TournamentSignInComponent_ng_container_0_div_1_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵlistener(\"click\", function TournamentSignInComponent_ng_container_0_div_1_div_6_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const team_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r5.redirectToPage(\"teams/\" + team_r4.id));\n    });\n    i0.ɵɵelement(1, \"img\", 9);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const team_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r3.getLogo(team_r4.id), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(team_r4.name);\n  }\n}\nfunction TournamentSignInComponent_ng_container_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"i\", 4);\n    i0.ɵɵlistener(\"click\", function TournamentSignInComponent_ng_container_0_div_1_Template_i_click_2_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.tournamentSignInService.setTournamentSignupWindowOpen(false));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 5);\n    i0.ɵɵtext(4, \"Choose team\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 6);\n    i0.ɵɵtemplate(6, TournamentSignInComponent_ng_container_0_div_1_div_6_Template, 4, 2, \"div\", 7);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const teams_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", teams_r1);\n  }\n}\nfunction TournamentSignInComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TournamentSignInComponent_ng_container_0_div_1_Template, 7, 1, \"div\", 1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.tournamentSignupWindowOpen);\n  }\n}\nexport class TournamentSignInComponent {\n  constructor(tournamentSignInService, personalService, teamService, jwtUtil, router) {\n    this.tournamentSignInService = tournamentSignInService;\n    this.personalService = personalService;\n    this.teamService = teamService;\n    this.jwtUtil = jwtUtil;\n    this.router = router;\n    this.tournamentSignupWindowOpen = false;\n    this.teams$ = this.personalService.getTeamsByPersonal(this.jwtUtil.getId());\n    this.logoDataMap = {};\n    this.isHasLogoMap = {};\n    this.tournamentSignInService.tournamentSignupWindowOpen$.subscribe(value => {\n      this.tournamentSignupWindowOpen = value;\n    });\n  }\n  ngOnInit() {\n    this.loadLogos();\n  }\n  loadLogos() {\n    this.teams$.forEach(value => {\n      value.forEach(value1 => {\n        this.teamService.getTeamLogo(value1.id).subscribe(value2 => {\n          this.logoDataMap[value1.id] = 'data:image/jpeg;base64,' + value2.data;\n          this.isHasLogoMap[value1.id] = true;\n        }, error => {\n          this.isHasLogoMap[value1.id] = false;\n        });\n      });\n    });\n  }\n  getLogo(id) {\n    return this.logoDataMap[id];\n  }\n  redirectToPage(url) {\n    this.router.navigateByUrl(url);\n  }\n  static #_ = this.ɵfac = function TournamentSignInComponent_Factory(t) {\n    return new (t || TournamentSignInComponent)(i0.ɵɵdirectiveInject(i1.TournamentSignInService), i0.ɵɵdirectiveInject(i2.PersonalService), i0.ɵɵdirectiveInject(i3.TeamService), i0.ɵɵdirectiveInject(i4.JwtUtil), i0.ɵɵdirectiveInject(i5.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TournamentSignInComponent,\n    selectors: [[\"app-tournament-sign-in\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [\"class\", \"z-2 left-0 top-0 absolute w-full h-screen flex items-center justify-center \", \"style\", \"background-color: rgba(100,100,100,0.4)\", 4, \"ngIf\"], [1, \"z-2\", \"left-0\", \"top-0\", \"absolute\", \"w-full\", \"h-screen\", \"flex\", \"items-center\", \"justify-center\", 2, \"background-color\", \"rgba(100,100,100,0.4)\"], [1, \"relative\", \"flex\", \"bg-white\", \"rounded\", \"w-2/6\", \"h-50\", \"flex-col\", \"items-center\", \"pt-10\"], [1, \"absolute\", \"fa-solid\", \"fa-x\", \"text-red-700\", \"m-4\", \"font-bold\", \"text-4xl\", \"cursor-pointer\", \"left-2\", \"top-2\", 3, \"click\"], [1, \"text-2xl\"], [1, \"h-full\", \"my-4\", \"w-5/6\", \"border-blue-300\", \"border-3\"], [\"class\", \"w-full\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"w-full\", 3, \"click\"], [\"alt\", \"\", 3, \"src\"]],\n    template: function TournamentSignInComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TournamentSignInComponent_ng_container_0_Template, 2, 1, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.teams$));\n      }\n    },\n    dependencies: [NgForOf, NgIf, AsyncPipe],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["AsyncPipe","NgForOf","NgIf","i0","ɵɵelementStart","ɵɵlistener","TournamentSignInComponent_ng_container_0_div_1_div_6_Template_div_click_0_listener","restoredCtx","ɵɵrestoreView","_r6","team_r4","$implicit","ctx_r5","ɵɵnextContext","ɵɵresetView","redirectToPage","id","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","ctx_r3","getLogo","ɵɵsanitizeUrl","ɵɵtextInterpolate","name","TournamentSignInComponent_ng_container_0_div_1_Template_i_click_2_listener","_r8","ctx_r7","tournamentSignInService","setTournamentSignupWindowOpen","ɵɵtemplate","TournamentSignInComponent_ng_container_0_div_1_div_6_Template","teams_r1","ɵɵelementContainerStart","TournamentSignInComponent_ng_container_0_div_1_Template","ɵɵelementContainerEnd","ctx_r0","tournamentSignupWindowOpen","TournamentSignInComponent","constructor","personalService","teamService","jwtUtil","router","teams$","getTeamsByPersonal","getId","logoDataMap","isHasLogoMap","tournamentSignupWindowOpen$","subscribe","value","ngOnInit","loadLogos","forEach","value1","getTeamLogo","value2","data","error","url","navigateByUrl","_","ɵɵdirectiveInject","i1","TournamentSignInService","i2","PersonalService","i3","TeamService","i4","JwtUtil","i5","Router","_2","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","TournamentSignInComponent_Template","rf","ctx","TournamentSignInComponent_ng_container_0_Template","ɵɵpipeBind1","styles"],"sources":["C:\\Users\\Ivan\\java\\final_project\\client\\src\\app\\shared\\tournament-sign-in\\tournament-sign-in.component.ts","C:\\Users\\Ivan\\java\\final_project\\client\\src\\app\\shared\\tournament-sign-in\\tournament-sign-in.component.html"],"sourcesContent":["import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {AsyncPipe, NgForOf, NgIf} from \"@angular/common\";\nimport {TournamentSignInService} from \"../../services/TournamentSigninService\";\nimport {PersonalService} from \"../../services/PersonalService\";\nimport {TeamService} from \"../../services/TeamService\";\nimport {JwtUtil} from \"../../util/JwtUtil\";\nimport {Router} from \"@angular/router\";\n\n\n@Component({\n  selector: 'app-tournament-sign-in',\n  templateUrl: './tournament-sign-in.component.html',\n  standalone: true,\n  imports: [\n    NgForOf,\n    NgIf,\n    AsyncPipe\n  ],\n  styleUrls: ['./tournament-sign-in.component.css']\n})\nexport class TournamentSignInComponent implements OnInit{\n  tournamentSignupWindowOpen = false;\n  teams$ = this.personalService.getTeamsByPersonal(this.jwtUtil.getId());\n  public logoDataMap: { [key: number]: string } = {};\n  public isHasLogoMap: {[key: number] : boolean} = {}\n\n\n  constructor(public tournamentSignInService: TournamentSignInService,\n              private personalService: PersonalService,\n              private teamService: TeamService,\n              private jwtUtil:JwtUtil,\n              private router: Router,\n              ) {\n\n    this.tournamentSignInService.tournamentSignupWindowOpen$.subscribe((value) => {\n      this.tournamentSignupWindowOpen = value;\n    });\n  }\n\n\n\n  ngOnInit(): void {\n        this.loadLogos()\n    }\n\n  loadLogos(): void {\n    this.teams$.forEach(value => {\n      value.forEach(value1 => {\n        this.teamService.getTeamLogo(value1.id).subscribe(\n          value2 => {\n            this.logoDataMap[value1.id] = 'data:image/jpeg;base64,' + value2.data\n            this.isHasLogoMap[value1.id] = true;\n          }\n          ,error => {\n            this.isHasLogoMap[value1.id] = false\n          }\n        )\n      })\n    })\n\n  }\n  getLogo(id: number): string {\n    return this.logoDataMap[id]\n  }\n\n  redirectToPage(url:string){\n    this.router.navigateByUrl(url);\n  }\n\n}\n","<ng-container *ngIf=\"teams$ |async as teams\">\n  <div *ngIf=\"tournamentSignupWindowOpen\" class=\"z-2 left-0 top-0 absolute w-full h-screen flex items-center justify-center \" style=\"background-color: rgba(100,100,100,0.4)\">\n    <div class=\"relative flex bg-white rounded w-2/6 h-50 flex-col items-center pt-10\">\n      <i class=\"absolute fa-solid fa-x text-red-700 m-4 font-bold text-4xl cursor-pointer left-2 top-2\" (click)=\"tournamentSignInService.setTournamentSignupWindowOpen(false)\"></i>\n      <p class=\"text-2xl\">Choose team</p>\n      <div class=\"h-full my-4 w-5/6 border-blue-300 border-3\">\n        <div (click)=\"redirectToPage('teams/'+team.id)\" class=\"w-full\" *ngFor=\"let team of teams\">\n          <img [src]=\"getLogo(team.id)\" alt=\"\">\n          <p>{{team.name}}</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</ng-container>\n"],"mappings":"AACA,SAAQA,SAAS,EAAEC,OAAO,EAAEC,IAAI,QAAO,iBAAiB;;;;;;;;;;ICKhDC,EAAA,CAAAC,cAAA,aAA0F;IAArFD,EAAA,CAAAE,UAAA,mBAAAC,mFAAA;MAAA,MAAAC,WAAA,GAAAJ,EAAA,CAAAK,aAAA,CAAAC,GAAA;MAAA,MAAAC,OAAA,GAAAH,WAAA,CAAAI,SAAA;MAAA,MAAAC,MAAA,GAAAT,EAAA,CAAAU,aAAA;MAAA,OAASV,EAAA,CAAAW,WAAA,CAAAF,MAAA,CAAAG,cAAA,CAAe,QAAQ,GAAAL,OAAA,CAAAM,EAAA,CAAS;IAAA,EAAC;IAC7Cb,EAAA,CAAAc,SAAA,aAAqC;IACrCd,EAAA,CAAAC,cAAA,QAAG;IAAAD,EAAA,CAAAe,MAAA,GAAa;IAAAf,EAAA,CAAAgB,YAAA,EAAI;;;;;IADfhB,EAAA,CAAAiB,SAAA,GAAwB;IAAxBjB,EAAA,CAAAkB,UAAA,QAAAC,MAAA,CAAAC,OAAA,CAAAb,OAAA,CAAAM,EAAA,GAAAb,EAAA,CAAAqB,aAAA,CAAwB;IAC1BrB,EAAA,CAAAiB,SAAA,GAAa;IAAbjB,EAAA,CAAAsB,iBAAA,CAAAf,OAAA,CAAAgB,IAAA,CAAa;;;;;;IAPxBvB,EAAA,CAAAC,cAAA,aAA4K;IAEtED,EAAA,CAAAE,UAAA,mBAAAsB,2EAAA;MAAAxB,EAAA,CAAAK,aAAA,CAAAoB,GAAA;MAAA,MAAAC,MAAA,GAAA1B,EAAA,CAAAU,aAAA;MAAA,OAASV,EAAA,CAAAW,WAAA,CAAAe,MAAA,CAAAC,uBAAA,CAAAC,6BAAA,CAAsD,KAAK,CAAC;IAAA,EAAC;IAAC5B,EAAA,CAAAgB,YAAA,EAAI;IAC7KhB,EAAA,CAAAC,cAAA,WAAoB;IAAAD,EAAA,CAAAe,MAAA,kBAAW;IAAAf,EAAA,CAAAgB,YAAA,EAAI;IACnChB,EAAA,CAAAC,cAAA,aAAwD;IACtDD,EAAA,CAAA6B,UAAA,IAAAC,6DAAA,iBAGM;IACR9B,EAAA,CAAAgB,YAAA,EAAM;;;;IAJ4EhB,EAAA,CAAAiB,SAAA,GAAQ;IAARjB,EAAA,CAAAkB,UAAA,YAAAa,QAAA,CAAQ;;;;;IANhG/B,EAAA,CAAAgC,uBAAA,GAA6C;IAC3ChC,EAAA,CAAA6B,UAAA,IAAAI,uDAAA,iBAWM;IACRjC,EAAA,CAAAkC,qBAAA,EAAe;;;;IAZPlC,EAAA,CAAAiB,SAAA,GAAgC;IAAhCjB,EAAA,CAAAkB,UAAA,SAAAiB,MAAA,CAAAC,0BAAA,CAAgC;;;ADmBxC,OAAM,MAAOC,yBAAyB;EAOpCC,YAAmBX,uBAAgD,EAC/CY,eAAgC,EAChCC,WAAwB,EACxBC,OAAe,EACfC,MAAc;IAJf,KAAAf,uBAAuB,GAAvBA,uBAAuB;IACtB,KAAAY,eAAe,GAAfA,eAAe;IACf,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAAC,OAAO,GAAPA,OAAO;IACP,KAAAC,MAAM,GAANA,MAAM;IAV1B,KAAAN,0BAA0B,GAAG,KAAK;IAClC,KAAAO,MAAM,GAAG,IAAI,CAACJ,eAAe,CAACK,kBAAkB,CAAC,IAAI,CAACH,OAAO,CAACI,KAAK,EAAE,CAAC;IAC/D,KAAAC,WAAW,GAA8B,EAAE;IAC3C,KAAAC,YAAY,GAA8B,EAAE;IAUjD,IAAI,CAACpB,uBAAuB,CAACqB,2BAA2B,CAACC,SAAS,CAAEC,KAAK,IAAI;MAC3E,IAAI,CAACd,0BAA0B,GAAGc,KAAK;IACzC,CAAC,CAAC;EACJ;EAIAC,QAAQA,CAAA;IACF,IAAI,CAACC,SAAS,EAAE;EACpB;EAEFA,SAASA,CAAA;IACP,IAAI,CAACT,MAAM,CAACU,OAAO,CAACH,KAAK,IAAG;MAC1BA,KAAK,CAACG,OAAO,CAACC,MAAM,IAAG;QACrB,IAAI,CAACd,WAAW,CAACe,WAAW,CAACD,MAAM,CAACzC,EAAE,CAAC,CAACoC,SAAS,CAC/CO,MAAM,IAAG;UACP,IAAI,CAACV,WAAW,CAACQ,MAAM,CAACzC,EAAE,CAAC,GAAG,yBAAyB,GAAG2C,MAAM,CAACC,IAAI;UACrE,IAAI,CAACV,YAAY,CAACO,MAAM,CAACzC,EAAE,CAAC,GAAG,IAAI;QACrC,CAAC,EACA6C,KAAK,IAAG;UACP,IAAI,CAACX,YAAY,CAACO,MAAM,CAACzC,EAAE,CAAC,GAAG,KAAK;QACtC,CAAC,CACF;MACH,CAAC,CAAC;IACJ,CAAC,CAAC;EAEJ;EACAO,OAAOA,CAACP,EAAU;IAChB,OAAO,IAAI,CAACiC,WAAW,CAACjC,EAAE,CAAC;EAC7B;EAEAD,cAAcA,CAAC+C,GAAU;IACvB,IAAI,CAACjB,MAAM,CAACkB,aAAa,CAACD,GAAG,CAAC;EAChC;EAAC,QAAAE,CAAA,G;qBA/CUxB,yBAAyB,EAAArC,EAAA,CAAA8D,iBAAA,CAAAC,EAAA,CAAAC,uBAAA,GAAAhE,EAAA,CAAA8D,iBAAA,CAAAG,EAAA,CAAAC,eAAA,GAAAlE,EAAA,CAAA8D,iBAAA,CAAAK,EAAA,CAAAC,WAAA,GAAApE,EAAA,CAAA8D,iBAAA,CAAAO,EAAA,CAAAC,OAAA,GAAAtE,EAAA,CAAA8D,iBAAA,CAAAS,EAAA,CAAAC,MAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAzBpC,yBAAyB;IAAAqC,SAAA;IAAAC,UAAA;IAAAC,QAAA,GAAA5E,EAAA,CAAA6E,mBAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,mCAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCpBtCnF,EAAA,CAAA6B,UAAA,IAAAwD,iDAAA,0BAae;;;;QAbArF,EAAA,CAAAkB,UAAA,SAAAlB,EAAA,CAAAsF,WAAA,OAAAF,GAAA,CAAAzC,MAAA,EAAoB;;;mBDc/B7C,OAAO,EACPC,IAAI,EACJF,SAAS;IAAA0F,MAAA;EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}