{"ast":null,"code":"import { AsyncPipe, NgForOf, NgIf } from \"@angular/common\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/TournamentSigninService\";\nimport * as i2 from \"../../services/PersonalService\";\nimport * as i3 from \"../../services/TeamService\";\nimport * as i4 from \"../../util/JwtUtil\";\nfunction TournamentSignInComponent_ng_container_0_div_1_div_6_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 10);\n  }\n  if (rf & 2) {\n    const team_r4 = i0.ɵɵnextContext().$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"src\", ctx_r5.getLogo(team_r4.id), i0.ɵɵsanitizeUrl);\n  }\n}\nfunction TournamentSignInComponent_ng_container_0_div_1_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtemplate(1, TournamentSignInComponent_ng_container_0_div_1_div_6_img_1_Template, 1, 1, \"img\", 9);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const team_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.isHasLogoMap[team_r4.id]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(team_r4.name);\n  }\n}\nfunction TournamentSignInComponent_ng_container_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"i\", 4);\n    i0.ɵɵlistener(\"click\", function TournamentSignInComponent_ng_container_0_div_1_Template_i_click_2_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.tournamentSignInService.setTournamentSignupWindowOpen(false));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 5);\n    i0.ɵɵtext(4, \"Choose team\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 6);\n    i0.ɵɵtemplate(6, TournamentSignInComponent_ng_container_0_div_1_div_6_Template, 4, 2, \"div\", 7);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const teams_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", teams_r1);\n  }\n}\nfunction TournamentSignInComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TournamentSignInComponent_ng_container_0_div_1_Template, 7, 1, \"div\", 1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.tournamentSignupWindowOpen);\n  }\n}\nexport class TournamentSignInComponent {\n  constructor(tournamentSignInService, personalService, teamService, jwtUtil) {\n    this.tournamentSignInService = tournamentSignInService;\n    this.personalService = personalService;\n    this.teamService = teamService;\n    this.jwtUtil = jwtUtil;\n    this.tournamentSignupWindowOpen = false;\n    this.teams$ = this.personalService.getTeamsByPersonal(this.jwtUtil.getId());\n    this.logoDataMap = {};\n    this.isHasLogoMap = {};\n    this.tournamentSignInService.tournamentSignupWindowOpen$.subscribe(value => {\n      this.tournamentSignupWindowOpen = value;\n    });\n  }\n  ngOnInit() {\n    this.loadLogos();\n  }\n  loadLogos() {\n    this.teams$.forEach(value => {\n      value.forEach(value1 => {\n        this.teamService.getTeamLogo(value1.id).subscribe(value2 => {\n          this.logoDataMap[value1.id] = 'data:image/jpeg;base64,' + value2.data;\n          this.isHasLogoMap[value1.id] = true;\n        }, error => {\n          this.isHasLogoMap[value1.id] = false;\n        });\n      });\n    });\n  }\n  getLogo(id) {\n    return this.logoDataMap[id];\n  }\n  static #_ = this.ɵfac = function TournamentSignInComponent_Factory(t) {\n    return new (t || TournamentSignInComponent)(i0.ɵɵdirectiveInject(i1.TournamentSignInService), i0.ɵɵdirectiveInject(i2.PersonalService), i0.ɵɵdirectiveInject(i3.TeamService), i0.ɵɵdirectiveInject(i4.JwtUtil));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TournamentSignInComponent,\n    selectors: [[\"app-tournament-sign-in\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [\"class\", \"z-2 left-0 top-0 absolute w-full h-screen flex items-center justify-center \", \"style\", \"background-color: rgba(100,100,100,0.4)\", 4, \"ngIf\"], [1, \"z-2\", \"left-0\", \"top-0\", \"absolute\", \"w-full\", \"h-screen\", \"flex\", \"items-center\", \"justify-center\", 2, \"background-color\", \"rgba(100,100,100,0.4)\"], [1, \"relative\", \"flex\", \"bg-white\", \"rounded\", \"w-2/6\", \"h-50\", \"flex-col\", \"items-center\", \"pt-10\"], [1, \"absolute\", \"fa-solid\", \"fa-x\", \"text-red-700\", \"m-4\", \"font-bold\", \"text-4xl\", \"cursor-pointer\", \"left-2\", \"top-2\", 3, \"click\"], [1, \"text-2xl\"], [1, \"h-full\", \"my-4\", \"w-5/6\", \"border-blue-300\", \"border-3\"], [\"class\", \"w-full\", 4, \"ngFor\", \"ngForOf\"], [1, \"w-full\"], [\"alt\", \"\", 3, \"src\", 4, \"ngIf\"], [\"alt\", \"\", 3, \"src\"]],\n    template: function TournamentSignInComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TournamentSignInComponent_ng_container_0_Template, 2, 1, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.teams$));\n      }\n    },\n    dependencies: [NgForOf, NgIf, AsyncPipe],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["AsyncPipe","NgForOf","NgIf","i0","ɵɵelement","ɵɵproperty","ctx_r5","getLogo","team_r4","id","ɵɵsanitizeUrl","ɵɵelementStart","ɵɵtemplate","TournamentSignInComponent_ng_container_0_div_1_div_6_img_1_Template","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ctx_r3","isHasLogoMap","ɵɵtextInterpolate","name","ɵɵlistener","TournamentSignInComponent_ng_container_0_div_1_Template_i_click_2_listener","ɵɵrestoreView","_r8","ctx_r7","ɵɵnextContext","ɵɵresetView","tournamentSignInService","setTournamentSignupWindowOpen","TournamentSignInComponent_ng_container_0_div_1_div_6_Template","teams_r1","ɵɵelementContainerStart","TournamentSignInComponent_ng_container_0_div_1_Template","ɵɵelementContainerEnd","ctx_r0","tournamentSignupWindowOpen","TournamentSignInComponent","constructor","personalService","teamService","jwtUtil","teams$","getTeamsByPersonal","getId","logoDataMap","tournamentSignupWindowOpen$","subscribe","value","ngOnInit","loadLogos","forEach","value1","getTeamLogo","value2","data","error","_","ɵɵdirectiveInject","i1","TournamentSignInService","i2","PersonalService","i3","TeamService","i4","JwtUtil","_2","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","TournamentSignInComponent_Template","rf","ctx","TournamentSignInComponent_ng_container_0_Template","ɵɵpipeBind1","styles"],"sources":["C:\\Users\\Ivan\\java\\final_project\\client\\src\\app\\shared\\tournament-sign-in\\tournament-sign-in.component.ts","C:\\Users\\Ivan\\java\\final_project\\client\\src\\app\\shared\\tournament-sign-in\\tournament-sign-in.component.html"],"sourcesContent":["import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {AsyncPipe, NgForOf, NgIf} from \"@angular/common\";\nimport {TournamentSignInService} from \"../../services/TournamentSigninService\";\nimport {PersonalService} from \"../../services/PersonalService\";\nimport {TeamService} from \"../../services/TeamService\";\nimport {JwtUtil} from \"../../util/JwtUtil\";\n\n\n@Component({\n  selector: 'app-tournament-sign-in',\n  templateUrl: './tournament-sign-in.component.html',\n  standalone: true,\n  imports: [\n    NgForOf,\n    NgIf,\n    AsyncPipe\n  ],\n  styleUrls: ['./tournament-sign-in.component.css']\n})\nexport class TournamentSignInComponent implements OnInit{\n  tournamentSignupWindowOpen = false;\n  teams$ = this.personalService.getTeamsByPersonal(this.jwtUtil.getId());\n  public logoDataMap: { [key: number]: string } = {};\n  public isHasLogoMap: {[key: number] : boolean} = {}\n  constructor(public tournamentSignInService: TournamentSignInService,\n              private personalService: PersonalService,\n              private teamService: TeamService,\n              private jwtUtil:JwtUtil) {\n    this.tournamentSignInService.tournamentSignupWindowOpen$.subscribe((value) => {\n      this.tournamentSignupWindowOpen = value;\n    });\n  }\n\n  ngOnInit(): void {\n        this.loadLogos()\n    }\n\n  loadLogos(): void {\n    this.teams$.forEach(value => {\n      value.forEach(value1 => {\n        this.teamService.getTeamLogo(value1.id).subscribe(\n          value2 => {\n            this.logoDataMap[value1.id] = 'data:image/jpeg;base64,' + value2.data\n            this.isHasLogoMap[value1.id] = true;\n          }\n          ,error => {\n            this.isHasLogoMap[value1.id] = false\n          }\n        )\n      })\n    })\n\n  }\n  getLogo(id: number): string {\n    return this.logoDataMap[id]\n  }\n\n\n}\n","<ng-container *ngIf=\"teams$ |async as teams\">\n  <div *ngIf=\"tournamentSignupWindowOpen\" class=\"z-2 left-0 top-0 absolute w-full h-screen flex items-center justify-center \" style=\"background-color: rgba(100,100,100,0.4)\">\n    <div class=\"relative flex bg-white rounded w-2/6 h-50 flex-col items-center pt-10\">\n      <i class=\"absolute fa-solid fa-x text-red-700 m-4 font-bold text-4xl cursor-pointer left-2 top-2\" (click)=\"tournamentSignInService.setTournamentSignupWindowOpen(false)\"></i>\n      <p class=\"text-2xl\">Choose team</p>\n      <div class=\"h-full my-4 w-5/6 border-blue-300 border-3\">\n        <div class=\"w-full\" *ngFor=\"let team of teams\">\n          <img *ngIf=\"!isHasLogoMap[team.id]\" [src]=\"getLogo(team.id)\" alt=\"\">\n          <p>{{team.name}}</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</ng-container>\n"],"mappings":"AACA,SAAQA,SAAS,EAAEC,OAAO,EAAEC,IAAI,QAAO,iBAAiB;;;;;;;;ICM9CC,EAAA,CAAAC,SAAA,cAAoE;;;;;IAAhCD,EAAA,CAAAE,UAAA,QAAAC,MAAA,CAAAC,OAAA,CAAAC,OAAA,CAAAC,EAAA,GAAAN,EAAA,CAAAO,aAAA,CAAwB;;;;;IAD9DP,EAAA,CAAAQ,cAAA,aAA+C;IAC7CR,EAAA,CAAAS,UAAA,IAAAC,mEAAA,iBAAoE;IACpEV,EAAA,CAAAQ,cAAA,QAAG;IAAAR,EAAA,CAAAW,MAAA,GAAa;IAAAX,EAAA,CAAAY,YAAA,EAAI;;;;;IADdZ,EAAA,CAAAa,SAAA,GAA4B;IAA5Bb,EAAA,CAAAE,UAAA,UAAAY,MAAA,CAAAC,YAAA,CAAAV,OAAA,CAAAC,EAAA,EAA4B;IAC/BN,EAAA,CAAAa,SAAA,GAAa;IAAbb,EAAA,CAAAgB,iBAAA,CAAAX,OAAA,CAAAY,IAAA,CAAa;;;;;;IAPxBjB,EAAA,CAAAQ,cAAA,aAA4K;IAEtER,EAAA,CAAAkB,UAAA,mBAAAC,2EAAA;MAAAnB,EAAA,CAAAoB,aAAA,CAAAC,GAAA;MAAA,MAAAC,MAAA,GAAAtB,EAAA,CAAAuB,aAAA;MAAA,OAASvB,EAAA,CAAAwB,WAAA,CAAAF,MAAA,CAAAG,uBAAA,CAAAC,6BAAA,CAAsD,KAAK,CAAC;IAAA,EAAC;IAAC1B,EAAA,CAAAY,YAAA,EAAI;IAC7KZ,EAAA,CAAAQ,cAAA,WAAoB;IAAAR,EAAA,CAAAW,MAAA,kBAAW;IAAAX,EAAA,CAAAY,YAAA,EAAI;IACnCZ,EAAA,CAAAQ,cAAA,aAAwD;IACtDR,EAAA,CAAAS,UAAA,IAAAkB,6DAAA,iBAGM;IACR3B,EAAA,CAAAY,YAAA,EAAM;;;;IAJiCZ,EAAA,CAAAa,SAAA,GAAQ;IAARb,EAAA,CAAAE,UAAA,YAAA0B,QAAA,CAAQ;;;;;IANrD5B,EAAA,CAAA6B,uBAAA,GAA6C;IAC3C7B,EAAA,CAAAS,UAAA,IAAAqB,uDAAA,iBAWM;IACR9B,EAAA,CAAA+B,qBAAA,EAAe;;;;IAZP/B,EAAA,CAAAa,SAAA,GAAgC;IAAhCb,EAAA,CAAAE,UAAA,SAAA8B,MAAA,CAAAC,0BAAA,CAAgC;;;ADkBxC,OAAM,MAAOC,yBAAyB;EAKpCC,YAAmBV,uBAAgD,EAC/CW,eAAgC,EAChCC,WAAwB,EACxBC,OAAe;IAHhB,KAAAb,uBAAuB,GAAvBA,uBAAuB;IACtB,KAAAW,eAAe,GAAfA,eAAe;IACf,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAAC,OAAO,GAAPA,OAAO;IAP3B,KAAAL,0BAA0B,GAAG,KAAK;IAClC,KAAAM,MAAM,GAAG,IAAI,CAACH,eAAe,CAACI,kBAAkB,CAAC,IAAI,CAACF,OAAO,CAACG,KAAK,EAAE,CAAC;IAC/D,KAAAC,WAAW,GAA8B,EAAE;IAC3C,KAAA3B,YAAY,GAA8B,EAAE;IAKjD,IAAI,CAACU,uBAAuB,CAACkB,2BAA2B,CAACC,SAAS,CAAEC,KAAK,IAAI;MAC3E,IAAI,CAACZ,0BAA0B,GAAGY,KAAK;IACzC,CAAC,CAAC;EACJ;EAEAC,QAAQA,CAAA;IACF,IAAI,CAACC,SAAS,EAAE;EACpB;EAEFA,SAASA,CAAA;IACP,IAAI,CAACR,MAAM,CAACS,OAAO,CAACH,KAAK,IAAG;MAC1BA,KAAK,CAACG,OAAO,CAACC,MAAM,IAAG;QACrB,IAAI,CAACZ,WAAW,CAACa,WAAW,CAACD,MAAM,CAAC3C,EAAE,CAAC,CAACsC,SAAS,CAC/CO,MAAM,IAAG;UACP,IAAI,CAACT,WAAW,CAACO,MAAM,CAAC3C,EAAE,CAAC,GAAG,yBAAyB,GAAG6C,MAAM,CAACC,IAAI;UACrE,IAAI,CAACrC,YAAY,CAACkC,MAAM,CAAC3C,EAAE,CAAC,GAAG,IAAI;QACrC,CAAC,EACA+C,KAAK,IAAG;UACP,IAAI,CAACtC,YAAY,CAACkC,MAAM,CAAC3C,EAAE,CAAC,GAAG,KAAK;QACtC,CAAC,CACF;MACH,CAAC,CAAC;IACJ,CAAC,CAAC;EAEJ;EACAF,OAAOA,CAACE,EAAU;IAChB,OAAO,IAAI,CAACoC,WAAW,CAACpC,EAAE,CAAC;EAC7B;EAAC,QAAAgD,CAAA,G;qBApCUpB,yBAAyB,EAAAlC,EAAA,CAAAuD,iBAAA,CAAAC,EAAA,CAAAC,uBAAA,GAAAzD,EAAA,CAAAuD,iBAAA,CAAAG,EAAA,CAAAC,eAAA,GAAA3D,EAAA,CAAAuD,iBAAA,CAAAK,EAAA,CAAAC,WAAA,GAAA7D,EAAA,CAAAuD,iBAAA,CAAAO,EAAA,CAAAC,OAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAzB9B,yBAAyB;IAAA+B,SAAA;IAAAC,UAAA;IAAAC,QAAA,GAAAnE,EAAA,CAAAoE,mBAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,mCAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCnBtC1E,EAAA,CAAAS,UAAA,IAAAmE,iDAAA,0BAae;;;;QAbA5E,EAAA,CAAAE,UAAA,SAAAF,EAAA,CAAA6E,WAAA,OAAAF,GAAA,CAAApC,MAAA,EAAoB;;;mBDa/BzC,OAAO,EACPC,IAAI,EACJF,SAAS;IAAAiF,MAAA;EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}